FROM node:20-alpine

# LÃ m viá»‡c táº¡i /app
WORKDIR /app

# ðŸ‘‰ Copy package.json vÃ  lock tá»« thÆ° má»¥c gá»‘c (vÃ¬ báº¡n Ä‘ang á»Ÿ my-app/)
COPY package.json ./
COPY package-lock.json ./

# CÃ i dependencies
RUN npm install

# Copy toÃ n bá»™ mÃ£ nguá»“n vÃ o container
COPY . .

# Build Next.js
RUN npm run build

# Thiáº¿t láº­p cá»•ng vÃ  ENV
ENV PORT=8000
EXPOSE 8000

# Cháº¡y app
CMD ["npm", "start", "--", "-p", "8000"]
